<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="arraysort.todolist.mapper.TodoListMapper">

    <!--할 일 생성-->
    <insert id="createTodo" parameterType="arraysort.todolist.domain.TodoVO" useGeneratedKeys="true"
            keyProperty="todoId">
        insert into todo(user_id,
                         todo_title,
                         todo_content,
                         todo_start,
                         todo_end,
                         todo_priority,
                         todo_done)
        values (#{userId},
                #{todoTitle},
                #{todoContent},
                #{todoStart},
                #{todoEnd},
                #{todoPriority},
                #{todoDone});
    </insert>

    <select id="getListByUserId" resultType="arraysort.todolist.domain.TodoVO">
        select todo_id,
               user_id,
               todo_title,
               todo_content,
               todo_start,
               todo_end,
               todo_priority,
               todo_done
        from todo
        where user_id = #{userId};
    </select>

    <select id="getDetailByTodoId" resultType="arraysort.todolist.domain.TodoVO">
        select todo_id,
               user_id,
               todo_title,
               todo_content,
               todo_start,
               todo_end,
               todo_priority,
               todo_done
        from todo
        where todo_id = #{todoId}
    </select>

    <update id="updateTodo" parameterType="arraysort.todolist.domain.TodoVO">
        update todo
        set todo_title    = #{updateTodoVO.todoTitle},
            todo_content  = #{updateTodoVO.todoContent},
            todo_start    = #{updateTodoVO.todoStart},
            todo_end      = #{updateTodoVO.todoEnd},
            todo_priority = #{updateTodoVO.todoPriority}
        where todo_id = #{todoId}
    </update>

</mapper>
